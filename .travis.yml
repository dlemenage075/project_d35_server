language: bash
sudo: required
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
before_install:
- |
  if [[ "${TRAVIS_COMMIT_MESSAGE}" == "[gitflow]"* ]] && [[ "${TRAVIS_BRANCH}" != v[0-9]* ]]; then
    travis_terminate 0
  fi
before_script:
- cp .travis.settings.xml $HOME/.m2/settings.xml
script:
- |
  if [[ "${TRAVIS_BRANCH}" == release-* ]]; then
    QUALIFIER=-frozen-${TRAVIS_BUILD_NUMBER}
  elif [[ "${TRAVIS_BRANCH}" == "development" ]]; then
    QUALIFIER=-dev-${TRAVIS_BUILD_NUMBER}
  elif [[ "${TRAVIS_BRANCH}" == v[0-9]* ]]; then
    QUALIFIER=""
  else
    QUALIFIER=-${TRAVIS_BRANCH}-${TRAVIS_BUILD_NUMBER}
  fi && ./.travis.scripts/mvn.sh build-helper:parse-version versions:set -DgenerateBackupPoms=false -DnewVersion='${parsedVersion.majorVersion}.${parsedVersion.minorVersion}.${parsedVersion.incrementalVersion}'${QUALIFIER}
- "./.travis.scripts/mvn.sh -Dmaven.site.skip=true clean verify -B -e -V"
after_success:
- |
  if [[ "${TRAVIS_BRANCH}" == v[0-9]* ]] || [[ "${TRAVIS_BRANCH}" == release-* ]] || [[ "${TRAVIS_BRANCH}" == "development" ]]; then
    ./.travis.scripts/mvn.sh sonar:sonar
  fi
- |
  if [[ "${TRAVIS_BRANCH}" == v[0-9]* ]]; then
    ./.travis.scripts/mvn.sh -P github-site site  fi
deploy:
  provider: script
  script: "./.travis.scripts/mvn.sh -Dmaven.site.skip=true -P stage-devel-bintray
    deploy"
  skip_cleanup: true
  on:
    all_branches: true
branches:
  except:
  - gh-pages
  - master
env:
  global:
  - secure: Byf9H3nvqvcBCSKCUAwV3aV1Leb/zQ+TQ+kR/Ra8UmUFZjt2c9oYNnTySrxP84HV4TjsoE4/+83qCKtBguWTWDQ9WgwdSPtFY8A7AH7UBn0R3NzPU8euxQcFcreWCSs5LfTn58eM9nATdFmcEddkwPAuBM9qS/QpnhDkahasLe/kwpikMLnajmHtTNYE1RJWfS7nFDgGeycmEDqt0mU7PgmFVsEWyc7Izfud3fPCkZHqOPs5CXeKEguF8k3m/8JF4DvyznrmHI9lDb3CA8iMjjboHUKd/HGpxO+/ybMYWIsNIaH0wctN6y10oIKWj2MY8imsw0X223qLrUbad49isypitJpb8n3jXjNzck50SWbAMzZgtMDVB15I4aZ3OP+XN8l+2nyMkjWU0wyg1XO2cbFrjBQDyyuFnN0VbAaZk2rZVyBztj22KEXFEVvSn97EDgtM46rEO22i/hMFfmJVbIhXVndYkl3wlYCahab/TVQDIXvRH9Wrd5LLv9+yyzNZjMUFQ8Vm7Nf4keLUzlZuajluU99L8wXgv+QwXPmLOYW4FLQgHU/qp5Q25i9xpHyTFg6+WXktTKZze0qkhy6nd21JRCy0io92ZxcmRUyw1UqrUswPnIRt/gZ/q4pjVo6MTmv1x/jsn9JQ/jtkTnLkYgAdGuln6xNsIvc9/REMZSQ=
  - secure: aiivZUDipi5A5VeufBpHFzy3qZDANjoqiPtX4V9M5lsov7rRnhg8C+eRe6qq0DmkeP4xq2+SCdkMIKgj2kINjNNVkBxTrg+bUxEHvZPANqzxo5LCoUeCQqyyaZqkiXu9wgy9X8vpnljA/IKgOsoTdQVubmjuK+Lu7SevZEUI72VfjtbSJzlTr435duTO+LK7vMim5BQhgjsO5FHweds/jfLbcij4QevuFtAJs93iYpkZ6HhJfkXgL2JvLxxIxc7nHe6+7p6sPRgkujP0W77A9rVyHn4QusvZRr765lzYfw2CqruxIOHHIyNKzW8wmx7SHAh375mpeCVznNjeF7/iZitLyn+bVhrFuZsax8YfbMKyOmH2ZMbOF0oIlTQmPr7mPAAAKRE9Obm7ijYmOC0eQdcYO1W1yb6V7kNl5w3sW+LU8tHo9Nqe0ucmmPXLhot+aH9ngDOD/gJw46elLikcoi1N++sY71/R+l5uZjE5cM635CJe9tls1Sevw+pTb+zvH94kZ2Bx2TViSvwEvsh5LeXQ0qdgL7bcO4jtzxOTXfENLukPGL5rAHnRu2DjmpnMbt3zFRp77QJHLCyDHdLO9N8pTc2loiveWEBdmwvJZ4pjfFuPqRN/zPMufWORng36OHTGO0bRh1BQCmTzu2yG8aLDWOfXFzti/Ku1605yd8o=
  - secure: cDNzXJoSKdKenly/UbBom9sGnWFGn7OJez2944Htt/Bk5KheaxrvyaGUfagq/rhjZ63XaaXMzAVhhUT8dmcZDiSin4j/o1Sgc5PWFL1flFzg8I6P44K7nnYX8emW6NFEL/SW86tISeLqSHd7btUed96n2bTpQ/XjyDlTpsL0OCjFnvnyenptNBj/uNNhnE7/ayW+yGH8tEj/IjZLfVnZkAbT/hJid9Be7w9mrd/1mwZ1nTvZ19pGE+haz5Z3hkFBYgO5m6T+lfS4NN2p2b28dTxIC3Txvi9VCXqSZdq2YIVseX5+LSx9zslcRb6/L5ZypZHzotxa6RRug3WExCGx+TDkAKyHUr0sDitmi/BlG/8vv/ZuqATJwdsW6unHTSX8w0wjTKIssHXKxmFP27wiTZa143taacY59moeFdZhWJPOZBdNdFpGFHOYg55VfWf80AcUn9W7vx/UftpqFTMgjjAQzJ1mfyqMlE6bYh6asVQP7z/WoI4jjdc8RP61CUvlb3Z1g7nvjxzIU9/fZv/yuL4aSoHPrW8RXqO1x5oVet9kV89RAqD9qo83hCrO4uX8TMAQZZzlm56bZpDjGM9Ho3Ey5DLhx2zhgjsmUlCZRYYG8VE4NGih9I6ZxpHWGz4uHMcPGrqVY060ljQL2ORcwfozAxhb1J7Ha/HrkZzVJJo=
  matrix:
    secure: JphxE4lTcmDUkSueOhdeUY3cpw7UwbZtjg/ekpPfM6vYK3CIP6KZYGbVl/9jiAbeFf1uBIWgYTukP7zvI0dhJ+Lf5aJOfrzpUEHFAxYJadM5SqvCXx1W9UlvpffmQ7BXZvSaZmeGh2I09kE+CEiKqE3LIgF8H+EyvakA4dyfnpehT8qGSePAkOLX6qzRe0Nmv/Yr669b/9J9YnSRpj8R5Y2+T92xUK7u/HjwP2FCQuWH3l8SAi3rU2Fs9EChSwOlJ24pdvMGjSOw78UsZ9rG7yiCzW93/FekHCN+kaiTelOQS0Q7ic8EJtgezDCwg/PKdw62jTKlY6njsudKuc0yMTJywENWTLft2JEiJ2uFq4qJ07Y7cJsixURgfR+TUozuUMI0NgYiyLmo9GBmhsoWmgmqRgektViGh9RlM+o5GE5l+CRUkLtNiPzxeog7rNhP4oWbeGLHtdN/jGWmt0V4lqDBCMwaRUb9nVsQajE9VHsSrmzX5ANk4pkD2UvwB82IIWgducNm/m/YLmD8vXR0OMViS5JQANlDm5oJkSbcAMmOg+/1aPv9bc/O+J1D7gXfr0UwprvepSKBP2QW+B6L0SbkoD/Z8URSc4VYf+pvTmUHbr+HsInhArVJNqviIZtoUlg73E4zO5sMqObhKgaConrUpcvEXc1OU3XcdJZ8ihU=
